@use "../mnote-vars.scss" as mn;

@mixin filesearch {
  .filesearch {
    height: 100%;
    display: flex;
    flex-direction: row;
    box-sizing: border-box;

    * {
      box-sizing: border-box;
    }

    .icon {
      width: 100%;
      height: 100%;
      pointer-events: none;

      &.close {
        display: none;
      }

      &.search {
        margin: 5%;
      }
    }

    .filesearch-button {
      width: fit-content;
      height: 100%;
      padding: 4px;
      cursor: pointer;

      // todo: sidebar-fg-secondary
      // with sidebar.scss's .sidemenu-button

      .fill {
        fill: map-get(mn.$vars, fg-secondary);
      }
      .stroke {
        stroke: map-get(mn.$vars, fg-secondary);
      }

      &:hover {
        .fill {
          fill: map-get(mn.$vars, sidebar-fg-main);
        }
        .stroke {
          stroke: map-get(mn.$vars, sidebar-fg-main);
        }
      }
    }

    .filesearch-input {
      display: none;
      flex: 1;
      color: map-get(mn.$vars, fg-main);
      font-family: map-get(mn.$vars, font-main);
      font-size: 13px;
      line-height: initial;
      background: none;
      outline: none;
      border: none;

      &::-webkit-input-placeholder {
        color: map-get(mn.$vars, fg-dim);
      }

      &:-ms-input-placeholder {
        color: map-get(mn.$vars, fg-dim);
      }

      &::placeholder {
        color: map-get(mn.$vars, fg-dim);
      }
    }

    &.searching {
      .filesearch-input {
        display: block;
      }

      .icon {
        &.close {
          display: block;
        }
        &.search {
          display: none;
        }
      }
    }
  }
}
