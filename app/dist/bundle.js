(()=>{var O=class{on(e,n){let o=this.events[e];o||(o=[],this.events[e]=o),o.push(n)}remove(e,n){let o=this.events[e];if(!o)return;let r=o.indexOf(n);r!==-1&&delete o[r]}emit(e,...n){let o=this.events[e];!o||o.forEach(r=>setTimeout(r,0,...n))}};var L=typeof navigator!="undefined"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function T(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on".concat(e),function(){n(window.event)})}function H(t,e){for(var n=e.slice(0,e.length-1),o=0;o<n.length;o++)n[o]=t[n[o].toLowerCase()];return n}function B(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}function W(t,e){for(var n=t.length>=e.length?t:e,o=t.length>=e.length?e:t,r=!0,l=0;l<n.length;l++)o.indexOf(n[l])===-1&&(r=!1);return r}var R={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":L?173:189,"=":L?61:187,";":L?59:186,"'":222,"[":219,"]":221,"\\":220},M={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},D={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},u={16:!1,18:!1,17:!1,91:!1},a={};for(var w=1;w<20;w++)R["f".concat(w)]=111+w;var i=[],$="all",q=[],K=function(e){return R[e.toLowerCase()]||M[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function F(t){$=t||"all"}function E(){return $||"all"}function Y(){return i.slice(0)}function Z(t){var e=t.target||t.srcElement,n=e.tagName,o=!0;return(e.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!e.readOnly)&&(o=!1),o}function I(t){return typeof t=="string"&&(t=K(t)),i.indexOf(t)!==-1}function ee(t,e){var n,o;t||(t=E());for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r))for(n=a[r],o=0;o<n.length;)n[o].scope===t?n.splice(o,1):o++;E()===t&&F(e||"all")}function te(t){var e=t.keyCode||t.which||t.charCode,n=i.indexOf(e);if(n>=0&&i.splice(n,1),t.key&&t.key.toLowerCase()==="meta"&&i.splice(0,i.length),(e===93||e===224)&&(e=91),e in u){u[e]=!1;for(var o in M)M[o]===e&&(p[o]=!1)}}function ne(t){if(!t)Object.keys(a).forEach(function(s){return delete a[s]});else if(Array.isArray(t))t.forEach(function(s){s.key&&C(s)});else if(typeof t=="object")t.key&&C(t);else if(typeof t=="string"){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=n[0],l=n[1];typeof r=="function"&&(l=r,r=""),C({key:t,scope:r,method:l,splitKey:"+"})}}var C=function(e){var n=e.key,o=e.scope,r=e.method,l=e.splitKey,s=l===void 0?"+":l,f=B(n);f.forEach(function(h){var y=h.split(s),c=y.length,d=y[c-1],v=d==="*"?"*":K(d);if(!!a[v]){o||(o=E());var g=c>1?H(M,y):[];a[v]=a[v].map(function(m){var Q=r?m.method===r:!0;return Q&&m.scope===o&&W(m.mods,g)?{}:m})}})};function G(t,e,n){var o;if(e.scope===n||e.scope==="all"){o=e.mods.length>0;for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(!u[r]&&e.mods.indexOf(+r)>-1||u[r]&&e.mods.indexOf(+r)===-1)&&(o=!1);(e.mods.length===0&&!u[16]&&!u[18]&&!u[17]&&!u[91]||o||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function N(t){var e=a["*"],n=t.keyCode||t.which||t.charCode;if(!!p.filter.call(this,t)){if((n===93||n===224)&&(n=91),i.indexOf(n)===-1&&n!==229&&i.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(g){var m=D[g];t[g]&&i.indexOf(m)===-1?i.push(m):!t[g]&&i.indexOf(m)>-1?i.splice(i.indexOf(m),1):g==="metaKey"&&t[g]&&i.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(i=i.slice(i.indexOf(m))))}),n in u){u[n]=!0;for(var o in M)M[o]===n&&(p[o]=!0);if(!e)return}for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(u[r]=t[D[r]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(i.indexOf(17)===-1&&i.push(17),i.indexOf(18)===-1&&i.push(18),u[17]=!0,u[18]=!0);var l=E();if(e)for(var s=0;s<e.length;s++)e[s].scope===l&&(t.type==="keydown"&&e[s].keydown||t.type==="keyup"&&e[s].keyup)&&G(t,e[s],l);if(n in a){for(var f=0;f<a[n].length;f++)if((t.type==="keydown"&&a[n][f].keydown||t.type==="keyup"&&a[n][f].keyup)&&a[n][f].key){for(var h=a[n][f],y=h.splitKey,c=h.key.split(y),d=[],v=0;v<c.length;v++)d.push(K(c[v]));d.sort().join("")===i.sort().join("")&&G(t,h,l)}}}}function oe(t){return q.indexOf(t)>-1}function p(t,e,n){i=[];var o=B(t),r=[],l="all",s=document,f=0,h=!1,y=!0,c="+";for(n===void 0&&typeof e=="function"&&(n=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(l=e.scope),e.element&&(s=e.element),e.keyup&&(h=e.keyup),e.keydown!==void 0&&(y=e.keydown),typeof e.splitKey=="string"&&(c=e.splitKey)),typeof e=="string"&&(l=e);f<o.length;f++)t=o[f].split(c),r=[],t.length>1&&(r=H(M,t)),t=t[t.length-1],t=t==="*"?"*":K(t),t in a||(a[t]=[]),a[t].push({keyup:h,keydown:y,scope:l,mods:r,shortcut:o[f],method:n,key:o[f],splitKey:c});typeof s!="undefined"&&!oe(s)&&window&&(q.push(s),T(s,"keydown",function(d){N(d)}),T(window,"focus",function(){i=[]}),T(s,"keyup",function(d){N(d),te(d)}))}var S={setScope:F,getScope:E,deleteScope:ee,getPressedKeyCodes:Y,isPressed:I,filter:Z,unbind:ne};for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(p[k]=S[k]);typeof window!="undefined"&&(V=window.hotkeys,p.noConflict=function(t){return t&&window.hotkeys===p&&(window.hotkeys=V),p},window.hotkeys=p);var V,X=p;var A=class{constructor(e){}bind(e,n){return X(e,n)}};var P=class{constructor(e){}mountToSidebar(e){}mountToMain(e){}mountToMenubar(e){}};var x=class{constructor(e){this.app=e}add(e){this.extensions.push(e),e.startup()}remove(e){let n=this.extensions.indexOf(e);n!==void 0&&(delete this.extensions[n],e.cleanup())}};var _=class{constructor(e){this.app=e,this.element=document.createElement("div"),e.modules.layout.mountToMenubar(this.element)}};var j=class{constructor(e){this.app=e,this.element=document.createElement("div"),e.modules.layout.mountToMenubar(this.element)}};var U=class{constructor(e){this.app=e,this.element=document.createElement("div"),e.modules.layout.mountToMenubar(this.element)}};var z=class{constructor(e){this.element=e}build(){return this.element}on(e,n,o){return this.element.addEventListener(e,n,o),this}off(e,n){return this.element.removeEventListener(e,n),this}attr(e,n){return this.element.setAttribute(e,n),this}id(e){return this.element.id=e,this}hook(e){return e(this.element),this}inner(e){return this.element.innerHTML=e,this}children(...e){e.forEach(n=>{this.element.appendChild(n.build())})}};function J(t){return new z(document.createElement(t))}var b=class{constructor(e){this.state={};this.signals=new O;this.modules={};let n=document.querySelector(e);if(!n)throw new Error(`No element with selector "${e}"!`);this.element=n,this.element.appendChild(J("div").inner("hey").build()),this.addModule("extensions",new x(this)).addModule("keyboard",new A(this)).addModule("extensions",new x(this)).addModule("layout",new P(this)).addModule("menubar",new _(this)).addModule("sidebar",new U(this)).addModule("document",new j(this))}setState(e){this.state={...e},this.signals.emit("stateChange")}addModule(e,n){return this.modules[e]=n,this}};new b("#root");})();
/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 *
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 *
 * Licensed under the MIT license.
 */
//# sourceMappingURL=bundle.js.map
